<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<script>
    (function(){
        if(''){
            if (prompt('请输入文章密码') !== ''){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>
<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"dloux.gitee.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="catch fish with the hands">
<meta property="og:type" content="website">
<meta property="og:title" content="Hi, Dloux">
<meta property="og:url" content="https://dloux.gitee.io/page/2/index.html">
<meta property="og:site_name" content="Hi, Dloux">
<meta property="og:description" content="catch fish with the hands">
<meta property="article:author" content="Dloux">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://dloux.gitee.io/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>Hi, Dloux</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="تشغيل شريط التصفح">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hi, Dloux</h1>
      
      <span class="logo-line-after">你好</span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


 



</div>
      
      <div class="menu-header">

<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>معلومات</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>الوسوم</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>الأرشيفات</a>

  </li>
  </ul>
</nav>
</div>
      
      
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://dloux.gitee.io/2021/04/18/rollup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dloux.jpg">
      <meta itemprop="name" content="Dloux">
      <meta itemprop="description" content="catch fish with the hands">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hi, Dloux">
    </span>
    
  <div class="post-top">
   <div class="post-top-hover">
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/18/rollup/" class="post-title-link" itemprop="url">rollup</a>
        </h2>

          

        
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="rollup"><a href="#rollup" class="headerlink" title="rollup"></a>rollup</h2><p>rollup 是一个 JavaScript 的模块打包器，一般用来编写库或者组件，因为它打包生成的文件仍然保持原来的文件结构，和 webpack 大有不同，同时也有 treeshaking 功能。</p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p><code>npm init</code>、<code>npm i rollup -D</code></p>
<h3 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h3><p>在根目录下新建 rollup.config.js 文件，导出一个对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// rollup.config.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    input: <span class="string">'./src/main.js'</span>, <span class="comment">// 入口文件</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        file: <span class="string">'./dist/js/main.min.js'</span>,</span><br><span class="line">        format: <span class="string">'iife'</span> <span class="comment">// 输出格式，这里是匿名的立即执行函数作用域，其他有 cjs es amd 和 umd</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在 package.json 中加入指令 <code>build: rollup -c</code> 或者 <code>build: rollup --config</code> 可以让根目录下的 config 生效。</p>
<h2 id="从零实现一个-rollup"><a href="#从零实现一个-rollup" class="headerlink" title="从零实现一个 rollup"></a>从零实现一个 rollup</h2><h3 id="1-初始化目录"><a href="#1-初始化目录" class="headerlink" title="1. 初始化目录"></a>1. 初始化目录</h3><h3 id="2-2"><a href="#2-2" class="headerlink" title="2.  2"></a>2.  2</h3><p>2</p>

      
    </div>

  </div>
  </div>

    
    
    
      <footer class="post-footer">
     


        
          <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">نُشر في</span>

              <time title="أُنشأ: 2021-04-18 02:11:40" itemprop="dateCreated datePublished" datetime="2021-04-18T02:11:40+08:00">2021-04-18</time>
            </span>
          </div>
          <div class="post-button-more">
            <a class="btn-more" href="/2021/04/18/rollup/">
              تابع القراءة &raquo;
            </a>
          </div>

         
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://dloux.gitee.io/2021/04/16/%E4%B8%8E%E5%90%8E%E7%AB%AF%E7%9A%84%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dloux.jpg">
      <meta itemprop="name" content="Dloux">
      <meta itemprop="description" content="catch fish with the hands">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hi, Dloux">
    </span>
    
  <div class="post-top">
   <div class="post-top-hover">
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/16/%E4%B8%8E%E5%90%8E%E7%AB%AF%E7%9A%84%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" class="post-title-link" itemprop="url">与后端的数据处理</a>
        </h2>

          

        
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h2><p>最近处理了一个比较复杂的显隐及展示逻辑判断，根据后端返回的字段控制几个不同组件的显隐状态及展示状态，写了大概几百行的逻辑判断。由此感觉后端与前端的分工其实在我这并不明确，实际上，即使后端把所有数据全都返回回来，只要存在数据，前端就能自己处理后渲染，仿佛后端只是一个读取数据的接口一样。随着业务的扩张，model 层将会逐渐转移至前端。</p>

      
    </div>

  </div>
  </div>

    
    
    
      <footer class="post-footer">
     


        
          <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">نُشر في</span>
              

              <time title="أُنشأ: 2021-04-16 01:21:03 / عُدل: 01:24:19" itemprop="dateCreated datePublished" datetime="2021-04-16T01:21:03+08:00">2021-04-16</time>
            </span>
          </div>
          <div class="post-button-more">
            <a class="btn-more" href="/2021/04/16/%E4%B8%8E%E5%90%8E%E7%AB%AF%E7%9A%84%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/">
              تابع القراءة &raquo;
            </a>
          </div>

         
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://dloux.gitee.io/2021/04/15/typescript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dloux.jpg">
      <meta itemprop="name" content="Dloux">
      <meta itemprop="description" content="catch fish with the hands">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hi, Dloux">
    </span>
    
  <div class="post-top">
   <div class="post-top-hover">
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/15/typescript/" class="post-title-link" itemprop="url">typescript</a>
        </h2>

          

        
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Typescript"><a href="#Typescript" class="headerlink" title="Typescript"></a>Typescript</h2><p>已经听到很久很久这个名字，但一直没有真正使用过，每次都是浅尝辄止，试着整理一下吧。</p>
<h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h3><h4 id="declare"><a href="#declare" class="headerlink" title="declare"></a>declare</h4><p>主要用在声明文件 .d.ts 中，在 vue3 内，会自动读取项目下的 .d.ts 文件，为 VSCode 编写提供方便，可以显示已声明的类型。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">type</span> Nullable&lt;T&gt; = T | <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">interface</span> Diy &#123;</span><br><span class="line">    diy: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">type</span> Diy2 = &#123;</span><br><span class="line">    diy2: <span class="built_in">string</span>,</span><br><span class="line">    [propName: <span class="built_in">string</span>]: <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在 tsconfig.json 中定义 typeRoots，可以向 typescript 域中自动引入路径中的 .d.ts 文件中的变量。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">"compilerOptions": &#123;</span><br><span class="line">    ...</span><br><span class="line">    "typeRoots": [</span><br><span class="line">      "./node_modules/@types",</span><br><span class="line">      <span class="string">"./typings"</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

  </div>
  </div>

    
    
    
      <footer class="post-footer">
     


        
          <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">نُشر في</span>
              

              <time title="أُنشأ: 2021-04-15 00:27:44 / عُدل: 00:39:12" itemprop="dateCreated datePublished" datetime="2021-04-15T00:27:44+08:00">2021-04-15</time>
            </span>
          </div>
          <div class="post-button-more">
            <a class="btn-more" href="/2021/04/15/typescript/">
              تابع القراءة &raquo;
            </a>
          </div>

         
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://dloux.gitee.io/2021/04/12/%E6%89%AB%E7%A0%81%E8%B7%B3%E8%BD%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dloux.jpg">
      <meta itemprop="name" content="Dloux">
      <meta itemprop="description" content="catch fish with the hands">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hi, Dloux">
    </span>
    
  <div class="post-top">
   <div class="post-top-hover">
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/12/%E6%89%AB%E7%A0%81%E8%B7%B3%E8%BD%AC/" class="post-title-link" itemprop="url">扫码跳转</a>
        </h2>

          

        
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="扫码跳转"><a href="#扫码跳转" class="headerlink" title="扫码跳转"></a>扫码跳转</h2><h3 id="微信小程序"><a href="#微信小程序" class="headerlink" title="微信小程序"></a>微信小程序</h3><p>如果想要从未打开小程序的状态下，扫码进入小程序，需要以下步骤：</p>
<ol>
<li><p>先到微信公众平台中，设置一个空白页，作为中转页面，同时，它应该以 <code>/</code> 为结尾，才能匹配到 <code>/bbb/aaa</code>，否则以 <code>/bbb/aaa</code> 这样定义路径，将匹配为 <code>/bbb</code> ，将会丢弃 <code>aaa</code>。</p>
</li>
<li><p>后端也需要为这个地址做特殊处理</p>
</li>
<li><p>在空白页中写上对应代码，它将会被写成 <code>{q: string}</code> 的形式，传入 onLoad 中，其中 <code>{, }, =, :</code> 这些特殊字符将被转译为 ASCII，如 <code>%C20</code>，之后解析这个 q，做相应处理即可</p>
</li>
</ol>

      
    </div>

  </div>
  </div>

    
    
    
      <footer class="post-footer">
     


        
          <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">نُشر في</span>
              

              <time title="أُنشأ: 2021-04-12 00:21:28 / عُدل: 00:28:22" itemprop="dateCreated datePublished" datetime="2021-04-12T00:21:28+08:00">2021-04-12</time>
            </span>
          </div>
          <div class="post-button-more">
            <a class="btn-more" href="/2021/04/12/%E6%89%AB%E7%A0%81%E8%B7%B3%E8%BD%AC/">
              تابع القراءة &raquo;
            </a>
          </div>

         
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://dloux.gitee.io/2021/04/08/leetcode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dloux.jpg">
      <meta itemprop="name" content="Dloux">
      <meta itemprop="description" content="catch fish with the hands">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hi, Dloux">
    </span>
    
  <div class="post-top">
   <div class="post-top-hover">
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/08/leetcode/" class="post-title-link" itemprop="url">leetcode</a>
        </h2>

          

        
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="leetcode"><a href="#leetcode" class="headerlink" title="leetcode"></a>leetcode</h2><h4 id="704-二分查找"><a href="#704-二分查找" class="headerlink" title="704. 二分查找"></a><a href="https://leetcode-cn.com/problems/binary-search/" target="_blank" rel="noopener">704. 二分查找</a></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> <span class="variable">target</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> search = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = nums.length</span><br><span class="line">    <span class="keyword">let</span> l = <span class="number">0</span>,</span><br><span class="line">        r = n - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span>( l &lt;= r) &#123;</span><br><span class="line">        <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor(l + (r - l) / <span class="number">2</span>) <span class="comment">// 防止整型溢出 2^53 - 1</span></span><br><span class="line">        <span class="keyword">if</span> (nums[mid] === target) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">            r = mid - <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            l = mid + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

  </div>
  </div>

    
    
    
      <footer class="post-footer">
     


        
          <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">نُشر في</span>
              

              <time title="أُنشأ: 2021-04-08 00:24:45 / عُدل: 00:30:33" itemprop="dateCreated datePublished" datetime="2021-04-08T00:24:45+08:00">2021-04-08</time>
            </span>
          </div>
          <div class="post-button-more">
            <a class="btn-more" href="/2021/04/08/leetcode/">
              تابع القراءة &raquo;
            </a>
          </div>

         
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://dloux.gitee.io/2021/04/07/scss/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dloux.jpg">
      <meta itemprop="name" content="Dloux">
      <meta itemprop="description" content="catch fish with the hands">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hi, Dloux">
    </span>
    
  <div class="post-top">
   <div class="post-top-hover">
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/07/scss/" class="post-title-link" itemprop="url">scss</a>
        </h2>

          

        
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="预处理器"><a href="#预处理器" class="headerlink" title="预处理器"></a>预处理器</h2><h3 id="scss"><a href="#scss" class="headerlink" title="scss"></a>scss</h3><p>我们可能经常在项目中使用 css 预处理器，在 vue 中，我们可能会写成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang&#x3D;&quot;scss&quot;&gt;</span><br><span class="line">    .title &#123;</span><br><span class="line">        &amp;:first-child &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        &amp;:last-child &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>这种普通的用法，仅仅是为了把 .title 省略，写起来其实与 css 并无不同，如果仅仅需要这种功能，我推荐使用 stylus，毕竟它连 <code>{ } : ;</code> 都可以省略。</p>
<h4 id="mixin"><a href="#mixin" class="headerlink" title="@mixin"></a>@mixin</h4><p>一般预处理器中都有 mixin 这个混入功能，允许你把一些 css 代码混入到指定位置。在 scss 中，使用 @mixin name 来定义。</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> b(<span class="variable">$block</span>) &#123;</span><br><span class="line">    <span class="variable">$B</span>: <span class="variable">$namespaced</span> + <span class="string">'-'</span> + <span class="variable">$block</span> !global; <span class="comment">// !global 表示这个变量不是全局变量，只允许在它的子元素用访问，即在 b() &#123; 这里访问 &#125;。</span></span><br><span class="line">    .#&#123;<span class="variable">$B</span>&#125; &#123;</span><br><span class="line">        <span class="keyword">@content</span>; <span class="comment">// 表示调用 mixin 的原代码块</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@mixin</span> e(<span class="variable">$element</span>) &#123;</span><br><span class="line">    <span class="keyword">@at-root</span> &#123; <span class="comment">// 表示根路径，减少样式权重，例如不加的话可能变成 .message .message__header，加了之后变成 .message__header</span></span><br><span class="line">        .#&#123;<span class="variable">$B</span> + <span class="variable">$element-prefix</span> + <span class="variable">$element</span>&#125; &#123; <span class="comment">// $B 如上所述，只允许在 b()&#123;&#125; 中调用，如果 e() 外层没有 b()，将不会生效（或者报错？）。</span></span><br><span class="line">            <span class="keyword">@content</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="include"><a href="#include" class="headerlink" title="@include"></a>@include</h4><p>调用定义好的 @mixin 方法</p>

      
    </div>

  </div>
  </div>

    
    
    
      <footer class="post-footer">
     


        
          <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">نُشر في</span>

              <time title="أُنشأ: 2021-04-07 00:42:17" itemprop="dateCreated datePublished" datetime="2021-04-07T00:42:17+08:00">2021-04-07</time>
            </span>
          </div>
          <div class="post-button-more">
            <a class="btn-more" href="/2021/04/07/scss/">
              تابع القراءة &raquo;
            </a>
          </div>

         
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://dloux.gitee.io/2021/03/25/cover-view/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dloux.jpg">
      <meta itemprop="name" content="Dloux">
      <meta itemprop="description" content="catch fish with the hands">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hi, Dloux">
    </span>
    
  <div class="post-top">
   <div class="post-top-hover">
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/25/cover-view/" class="post-title-link" itemprop="url">小程序 cover-view</a>
        </h2>

          

        
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="小程序-cover-view"><a href="#小程序-cover-view" class="headerlink" title="小程序 cover-view"></a>小程序 cover-view</h2><p>众所周知，小程序中有些原生组件，默认层级最高，普通的 view 无法在上面覆盖，此时需要使用 <code>cover-view</code> 标签。而这个标签相比于 view，缺少很多属性，使用的时候发现这里没有那里也没有。</p>
<p>覆盖原生组件时，只可以使用 cover-view 和 cover-image，其中 cover-view 不允许设置 background-image (因此 linear 这些渐变色背景也无法使用)，可以使用 cover-image ，把内容绝对定位来替代，cover-image 不允许使用 base64，支持网络路径。</p>
<p>cover-view 已经支持 <code>overflow-y: scroll</code> 了，我在实现 map 组件上的覆盖物滚动时，使用了 touchstart, touchmove, touchend 三个事件修改 top 值来拟造滑动效果，虽然可以实现，但滑动效果非常卡，并且一旦滑动过快，会出现闪烁，touchmove 并不能完全监听到我所有的滑动，而是隔一段时间才监听到一次，看起来是内部已经做了节流处理，因此我改用了 <code>overflow</code> 属性带来的原生滚动，舒服多了。但从地图底部拖动到顶部时的拖动边界，仍然监听不灵敏，目前考虑将其置为按钮，不允许自定义滚动位置，仅允许滚动到两个固定位置，否则回退。
          <!--noindex-->

          <!--/noindex-->
        
      
    </div>

  </div>
  </div>

    
    
    
      <footer class="post-footer">
     


        
          <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">نُشر في</span>
              

              <time title="أُنشأ: 2021-03-25 23:05:14 / عُدل: 23:20:33" itemprop="dateCreated datePublished" datetime="2021-03-25T23:05:14+08:00">2021-03-25</time>
            </span>
          </div>
          <div class="post-button-more">
            <a class="btn-more" href="/2021/03/25/cover-view/">
              تابع القراءة &raquo;
            </a>
          </div>

         
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://dloux.gitee.io/2021/03/24/Vue2%E7%9A%84%E8%8A%82%E6%B5%81%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dloux.jpg">
      <meta itemprop="name" content="Dloux">
      <meta itemprop="description" content="catch fish with the hands">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hi, Dloux">
    </span>
    
  <div class="post-top">
   <div class="post-top-hover">
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/24/Vue2%E7%9A%84%E8%8A%82%E6%B5%81%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">Vue2的节流函数</a>
        </h2>

          

        
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Vue2的节流函数"><a href="#Vue2的节流函数" class="headerlink" title="Vue2的节流函数"></a>Vue2的节流函数</h2><p>在 Vue2 的 methods，中，想定义一个高阶函数返回的方法时，this 的指向需要注意一下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// util.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, wait, _this</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer</span><br><span class="line">    <span class="comment">// console.log(_this) // undefined</span></span><br><span class="line">    <span class="comment">// console.log(this) // undefined</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">            <span class="comment">// console.log(this) // Vue Components</span></span><br><span class="line">            timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                fn.apply(<span class="keyword">this</span>, args)</span><br><span class="line">            &#125;, wait)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// .vue 文件</span></span><br><span class="line"><span class="keyword">import</span> &#123; throttle &#125; <span class="keyword">from</span> <span class="string">'@/utils/util'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        mouseMove: throttle(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">//  Vue Components</span></span><br><span class="line">        &#125;, <span class="number">300</span>, <span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上面使用的过程中，在高阶函数返回的函数外部，得到的 this 是空，但同时传进去的 _this 也是空，只是因为，在页面初始化的时候，这个 mouseMove 函数已经执行了 throttle()，但是此时， Vue Components 还未被实例化，无法得到 this，因此是 undefined（小程序中，网页可能得到全局变量）。而在返回得函数中能拿到 this，是因为返回的函数是注册在 methods 中的，Vue 把 this 绑定给这个 function 了，因此这个返回的函数能拿到 this，进而 apply，也因此 methods 中真正调用的函数可以打印出 this.</p>

      
    </div>

  </div>
  </div>

    
    
    
      <footer class="post-footer">
     


        
          <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">نُشر في</span>

              <time title="أُنشأ: 2021-03-24 22:03:02" itemprop="dateCreated datePublished" datetime="2021-03-24T22:03:02+08:00">2021-03-24</time>
            </span>
          </div>
          <div class="post-button-more">
            <a class="btn-more" href="/2021/03/24/Vue2%E7%9A%84%E8%8A%82%E6%B5%81%E5%87%BD%E6%95%B0/">
              تابع القراءة &raquo;
            </a>
          </div>

         
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://dloux.gitee.io/2021/03/19/uniapp%E5%9D%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dloux.jpg">
      <meta itemprop="name" content="Dloux">
      <meta itemprop="description" content="catch fish with the hands">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hi, Dloux">
    </span>
    
  <div class="post-top">
   <div class="post-top-hover">
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/19/uniapp%E5%9D%91/" class="post-title-link" itemprop="url">uniapp-mp</a>
        </h2>

          

        
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="uniapp-坑"><a href="#uniapp-坑" class="headerlink" title="uniapp 坑"></a>uniapp 坑</h2><ol>
<li><p>uniapp 中不支持 reduce 方法。</p>
</li>
<li><p>不要使用行内方法，用 computed 或 filter 来代替
          <!--noindex-->

          <!--/noindex-->
        
      
    </div>

  </div>
  </div>

    
    
    
      <footer class="post-footer">
     


        
          <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">نُشر في</span>

              <time title="أُنشأ: 2021-03-19 00:29:47" itemprop="dateCreated datePublished" datetime="2021-03-19T00:29:47+08:00">2021-03-19</time>
            </span>
          </div>
          <div class="post-button-more">
            <a class="btn-more" href="/2021/03/19/uniapp%E5%9D%91/">
              تابع القراءة &raquo;
            </a>
          </div>

         
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://dloux.gitee.io/2021/03/19/uniapp-app/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dloux.jpg">
      <meta itemprop="name" content="Dloux">
      <meta itemprop="description" content="catch fish with the hands">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hi, Dloux">
    </span>
    
  <div class="post-top">
   <div class="post-top-hover">
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/19/uniapp-app/" class="post-title-link" itemprop="url">uniapp-app</a>
        </h2>

          

        
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Hbuilder"><a href="#Hbuilder" class="headerlink" title="Hbuilder"></a>Hbuilder</h2><h3 id="真机调试-ios-App"><a href="#真机调试-ios-App" class="headerlink" title="真机调试 ios App "></a>真机调试 ios App
          <!--noindex-->

          <!--/noindex-->
        
      
    </div>

  </div>
  </div>

    
    
    
      <footer class="post-footer">
     


        
          <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">نُشر في</span>
              

              <time title="أُنشأ: 2021-03-19 00:27:53 / عُدل: 00:30:43" itemprop="dateCreated datePublished" datetime="2021-03-19T00:27:53+08:00">2021-03-19</time>
            </span>
          </div>
          <div class="post-button-more">
            <a class="btn-more" href="/2021/03/19/uniapp-app/">
              تابع القراءة &raquo;
            </a>
          </div>

         
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="الصفحة السابقة"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="الصفحة التالية"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          المحتويات
        </li>
        <li class="sidebar-nav-overview">
          عام
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Dloux"
      src="/images/dloux.jpg">
  <p class="site-author-name" itemprop="name">Dloux</p>
  <div class="site-description" itemprop="description">catch fish with the hands</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">56</span>
          <span class="site-state-item-name">المقالات</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">التصنيفات</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">44</span>
        <span class="site-state-item-name">الوسوم</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/dlouxgit" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;dlouxgit" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dloux</span>
</div>
  <div class="powered-by">تطبيق الموقع <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  









  <script async src="/js/cursor/fireworks.js"></script>
  <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas>



<script>
  var pathName = window.document.location.pathname;
  var cont = document.getElementsByClassName("content-wrap")[0];
  console.log(cont);
  if (pathName =='/' || pathName =='/note/') {
  // if (/\//.test(window.document.location.pathname)) {
    console.log(pathName);
    console.log(cont.style.backgroundColor)
    cont.className="content-wrap transparentcont";
    // cont.style.backgroundColor = "rgba(255,255,255,0) !importent";
  }
</script>
</body>
</html>
